<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8" />
	<title>LoL API</title>
	
	<script type="text/javascript">
		
	function getSummonerLevel() {
	
		document.getElementById("summoner_level").innerText = "";
		
		var username = document.getElementById("summoner_username").value;
		var region = document.getElementById("region").value.toLowerCase();
		var xmlHttp = null;
		var url = "https://prod.api.pvp.net/api/lol/"+region+"/v1.3/summoner/by-name/"+username+"?api_key=3a363138-5792-4118-b309-6acbe66dadbd"; // Esta URL debería devolver datos JSON
		
		xmlHttp = new XMLHttpRequest();
		xmlHttp.open( "GET", url, false );
		xmlHttp.send( null );
		var text = xmlHttp.responseText;
		var objson = JSON.parse(text);
		var obj = null;
		
		// Obtengo el primer objeto, que es el Summoner
		obj = firstJson(objson);
			
		document.getElementById("summoner_level").innerText = "Level: " + obj.summonerLevel;
		
	}
	
	function firstJson(objson) {
		for (var i in objson)
			return objson[i];
	}
		
	</script>
	
	<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
	<style type="text/css">
		body {
			font-family: Ubuntu;
		}
	</style>
	
</head>
<body>
	<center style="margin-top: 20%;">
		<select id="region">
			<option> BR </option>
			<option> EUNE </option>
			<option selected>EUW</option>
			<option> LAN </option>
			<option> LAS </option>
			<option> NA </option>
			<option> OCE </option>
		</select>
		<input type="text" id="summoner_username" onkeydown="if (event.keyCode==13) getSummonerLevel();" /><br />
		<input type="button" value="Obtener información" onclick="getSummonerLevel()"/>
		<div id="summoner_level"></div>
	</center>
</body>
</html>